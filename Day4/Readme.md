Passport question. Lots of conditional statements and string manipulation.
